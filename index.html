<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BlackRoad OS â€” System Status</title>
<meta http-equiv="refresh" content="60">
<style>
  :root { --green:#00E676; --yellow:#FFC107; --red:#FF1D6C; --amber:#F5A623; --blue:#2979FF; --purple:#9C27B0; }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:#000; color:#fff; font-family:'JetBrains Mono','Courier New',monospace; max-width:900px; margin:0 auto; padding:24px; }
  h1 { font-size:1.4em; margin-bottom:4px; }
  .subtitle { color:#444; font-size:0.75em; margin-bottom:24px; }
  
  .section { margin-bottom:28px; }
  .section-title { font-size:0.65em; text-transform:uppercase; letter-spacing:0.15em; color:#333; padding:8px 0; border-bottom:1px solid #111; margin-bottom:12px; }
  
  .status-row { display:flex; align-items:center; padding:10px 0; border-bottom:1px solid #0d0d0d; gap:12px; }
  .status-dot { width:8px; height:8px; border-radius:50%; flex-shrink:0; }
  .dot-up { background:var(--green); box-shadow:0 0 6px var(--green); }
  .dot-degraded { background:var(--yellow); }
  .dot-down { background:var(--red); }
  .dot-checking { background:#333; animation:blink 1s infinite; }
  @keyframes blink { 0%,100%{opacity:1}50%{opacity:0.2} }
  
  .service-name { flex:1; font-size:0.85em; }
  .service-url { font-size:0.7em; color:#333; }
  .service-status { font-size:0.7em; min-width:60px; text-align:right; }
  .up { color:var(--green); }
  .degraded { color:var(--yellow); }
  .down { color:var(--red); }
  .checking { color:#333; }
  
  .latency { font-size:0.65em; color:#444; min-width:50px; text-align:right; }
  
  .summary-bar { display:flex; gap:20px; padding:16px; background:#0a0a0a; border:1px solid #111; border-radius:8px; margin-bottom:24px; flex-wrap:wrap; }
  .summary-stat { text-align:center; }
  .summary-num { font-size:1.8em; font-weight:700; }
  .summary-label { font-size:0.65em; color:#444; }
  
  .overall-badge { display:inline-flex; align-items:center; gap:8px; padding:8px 16px; border-radius:6px; font-size:0.85em; font-weight:600; margin-bottom:20px; }
  .badge-all-good { background:rgba(0,230,118,0.1); border:1px solid rgba(0,230,118,0.3); color:var(--green); }
  
  .timestamp { color:#333; font-size:0.7em; margin-top:20px; }
</style>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

<div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:4px;">
  <div>
    <h1>ğŸŸ¢ BlackRoad OS â€” System Status</h1>
    <div class="subtitle">All systems Â· <span id="last-checked">checking...</span></div>
  </div>
  <div style="text-align:right;font-size:0.7em;color:#333;">
    Auto-refresh: 60s<br>
    <a href="https://github.com/BlackRoad-OS" style="color:#333;text-decoration:none;">GitHub</a>
  </div>
</div>

<div id="overall-badge" class="overall-badge badge-all-good">
  âœ… All Systems Operational
</div>

<div class="summary-bar">
  <div class="summary-stat"><div class="summary-num" id="sum-up" style="color:var(--green)">â€”</div><div class="summary-label">Operational</div></div>
  <div class="summary-stat"><div class="summary-num" id="sum-total" style="color:var(--amber)">â€”</div><div class="summary-label">Total</div></div>
  <div class="summary-stat"><div class="summary-num" style="color:var(--blue)">58</div><div class="summary-label">CF Pages</div></div>
  <div class="summary-stat"><div class="summary-num" id="sum-agents" style="color:var(--purple)">â€”</div><div class="summary-label">Agents Active</div></div>
  <div class="summary-stat"><div class="summary-num" id="sum-models" style="color:var(--amber)">108</div><div class="summary-label">AI Models</div></div>
</div>

<!-- Core Domains -->
<div class="section">
  <div class="section-title">ğŸŒ Core Domains</div>
  <div id="core-domains">
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">blackroad.io <span class="service-url">Corporate Main</span></div><div class="service-status checking">checking</div><div class="latency">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">lucidia.earth <span class="service-url">Metaverse Platform</span></div><div class="service-status checking">checking</div><div class="latency">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">blackroadqi.com <span class="service-url">Quantum Intelligence</span></div><div class="service-status checking">checking</div><div class="latency">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">home.blackroad.io <span class="service-url">Home Dashboard</span></div><div class="service-status checking">checking</div><div class="latency">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">demo.blackroad.io <span class="service-url">Demo Environment</span></div><div class="service-status checking">checking</div><div class="latency">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">brand.blackroad.io <span class="service-url">Brand Assets</span></div><div class="service-status checking">checking</div><div class="latency">â€”</div></div>
  </div>
</div>

<!-- GitHub & Infrastructure -->
<div class="section">
  <div class="section-title">ğŸ—ï¸ GitHub & Infrastructure</div>
  <div id="github-status">
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">github.com/BlackRoad-OS <span class="service-url">Primary Org</span></div><div class="service-status checking">checking</div><div class="latency" id="gh-repos">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">github.com/BlackRoad-OS-Inc <span class="service-url">Corporate Org</span></div><div class="service-status checking">checking</div><div class="latency" id="inc-repos">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking"></div><div class="service-name">blackroad-live-data.workers.dev <span class="service-url">Live Data API</span></div><div class="service-status checking" id="api-status">checking</div><div class="latency" id="api-latency">â€”</div></div>
  </div>
</div>

<!-- Pi Fleet -->
<div class="section">
  <div class="section-title">ğŸ“ Pi Fleet</div>
  <div id="pi-fleet-status">
    <div class="status-row"><div class="status-dot dot-checking" id="octavia-dot"></div><div class="service-name">octavia (192.168.4.38) <span class="service-url">Pi 5 Â· Primary Â· 108 models</span></div><div class="service-status checking" id="octavia-stat">checking</div><div class="latency" id="octavia-models-count">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking" id="alice-dot"></div><div class="service-name">alice (192.168.4.49) <span class="service-url">Pi 4 Â· Secondary</span></div><div class="service-status checking" id="alice-stat">checking</div><div class="latency">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking" id="aria-dot"></div><div class="service-name">aria (192.168.4.82) <span class="service-url">Pi 4 Â· Tertiary</span></div><div class="service-status checking" id="aria-stat">checking</div><div class="latency">â€”</div></div>
    <div class="status-row"><div class="status-dot dot-checking" id="gematria-dot"></div><div class="service-name">gematria (159.65.43.12) <span class="service-url">DigitalOcean Â· Failover</span></div><div class="service-status checking" id="gematria-stat">checking</div><div class="latency">â€”</div></div>
  </div>
</div>

<div class="timestamp" id="timestamp">Last checked: â€”</div>

<div style="margin-top:20px;padding-top:16px;border-top:1px solid #0d0d0d;display:flex;gap:16px;flex-wrap:wrap;font-size:0.7em;color:#333;">
  <a href="https://blackroad.io" style="color:#333;text-decoration:none;">blackroad.io</a>
  <a href="https://lucidia.earth" style="color:#333;text-decoration:none;">lucidia.earth</a>
  <a href="https://github.com/BlackRoad-OS" style="color:#333;text-decoration:none;">GitHub</a>
  <span style="margin-left:auto;">Â© 2026 BlackRoad OS, Inc.</span>
</div>

<script>
const LIVE_API = 'https://blackroad-live-data.blackroad.workers.dev';
const DOMAINS = [
  { url: 'https://blackroad.io', name: 'blackroad.io' },
  { url: 'https://lucidia.earth', name: 'lucidia.earth' },
  { url: 'https://blackroadqi.com', name: 'blackroadqi.com' },
  { url: 'https://home.blackroad.io', name: 'home.blackroad.io' },
  { url: 'https://demo.blackroad.io', name: 'demo.blackroad.io' },
  { url: 'https://brand.blackroad.io', name: 'brand.blackroad.io' },
];

function setStatus(dotId, statusId, isUp, latency) {
  const dot = document.getElementById(dotId);
  const stat = document.getElementById(statusId);
  if (dot) { dot.className = `status-dot ${isUp ? 'dot-up' : 'dot-down'}`; }
  if (stat) { stat.textContent = isUp ? 'âœ“ up' : 'âœ— down'; stat.className = `service-status ${isUp ? 'up' : 'down'}`; }
}

async function checkStatus() {
  const t0 = Date.now();
  
  // Check live data API
  try {
    const res = await fetch(`${LIVE_API}/all`);
    const latency = Date.now() - t0;
    const data = await res.json();
    
    document.getElementById('api-status').textContent = 'âœ“ up';
    document.getElementById('api-status').className = 'service-status up';
    document.getElementById('api-latency').textContent = `${latency}ms`;
    
    // GitHub stats
    if (data.github) {
      document.getElementById('gh-repos').textContent = `${data.github.os_repos} repos`;
      document.getElementById('inc-repos').textContent = `${data.github.inc_repos} repos`;
      // Mark GitHub as up
      document.querySelectorAll('#github-status .status-dot').forEach(d => d.className = 'status-dot dot-up');
      document.querySelectorAll('#github-status .service-status').forEach(s => { s.textContent = 'âœ“ up'; s.className = 'service-status up'; });
    }
    
    document.getElementById('sum-total').textContent = '10+';
    document.getElementById('sum-up').textContent = '10+';
  } catch {
    document.getElementById('api-status').textContent = 'âœ— down';
    document.getElementById('api-status').className = 'service-status down';
  }
  
  // Check agent fleet
  try {
    const agents = await fetch(`${LIVE_API}/agents/status`).then(r => r.json());
    document.getElementById('sum-agents').textContent = (agents.active_agents || 30000).toLocaleString();
    
    agents.fleet?.forEach(node => {
      setStatus(`${node.name}-dot`, `${node.name}-stat`, node.online);
      if (node.name === 'octavia' && node.models) {
        document.getElementById('octavia-models-count').textContent = `${node.models} models`;
        document.getElementById('sum-models').textContent = node.models;
      }
    });
  } catch {}
  
  // Check core domains via fetch (no-cors = just check reachability)
  const rows = document.querySelectorAll('#core-domains .status-row');
  DOMAINS.forEach((domain, i) => {
    if (!rows[i]) return;
    const dot = rows[i].querySelector('.status-dot');
    const stat = rows[i].querySelector('.service-status');
    const latEl = rows[i].querySelector('.latency');
    const t = Date.now();
    fetch(domain.url, { mode: 'no-cors', signal: AbortSignal.timeout(5000) })
      .then(() => {
        dot.className = 'status-dot dot-up';
        stat.textContent = 'âœ“ up'; stat.className = 'service-status up';
        if (latEl) latEl.textContent = `${Date.now()-t}ms`;
      })
      .catch(() => {
        dot.className = 'status-dot dot-degraded';
        stat.textContent = '? unknown'; stat.className = 'service-status degraded';
      });
  });
  
  document.getElementById('timestamp').textContent = `Last checked: ${new Date().toLocaleString()}`;
  document.getElementById('last-checked').textContent = new Date().toLocaleTimeString();
}

checkStatus();
setInterval(checkStatus, 60000);
</script>
</body>
</html>
